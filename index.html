<html>
  <head>
    <link rel="apple-touch-icon" href="/set0.png">
  </head>
  <body>
    <h1>Hello!</h1>
    <button onclick="set1()">Set1</button>
    <button onclick="set2()">Set2</button>
  </body>
  <script>
    const rel = 'apple-touch-icon';
    
    function changeFavicon(base64Icon) {
      const oldIcons = document.querySelectorAll(`link[rel="${rel}"]`);
      oldIcons.forEach(icon => icon.remove());
    
      const link = document.createElement('link');
      link.rel = rel;
      //link.rel = 'icon';
      link.href = `${base64Icon}`;
      document.head.appendChild(link);
    }

    function set0() {
      changeFavicon('/set0.png')
      changeFavicon('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAEklEQVR4nGNgGAWjYBSMAggAAAQQAAFVN1rQAAAAAElFTkSuQmCC')
    }

    function set1() {
      changeFavicon('/set1.png')
      //changeFavicon('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAVElEQVR4nGNgoBAw4pL4v5ThP4biaEz1GALYNOIziIlUzejqmLAJkmIIEyGFhAAjObYjA4pdMFwMwJbCiAGM0QyM1PMCqa6AqWfCJkisZgYGKuRGAGHPGHjrBWZdAAAAAElFTkSuQmCC')
    }

    function set2() {
      changeFavicon('/set2.png')
      //changeFavicon('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAU0lEQVR4nGNgoBAw4pT5z/Afi2oM9ZgGYNOIxyAmkjWjqWPCJkiKIUyE1BECjGTZjgQodsGwMQBLCiMKMDIwUtELpLoCqp4JmyCxmiFMXIDI3AgAIAYQHXSsovIAAAAASUVORK5CYII=')
    }

    setTimeout(() => set1(), 2000);
    setTimeout(() => set2(), 3000);
    setTimeout(() => set1(), 4000);
    setTimeout(() => set2(), 5000);
  </script>
</html>
